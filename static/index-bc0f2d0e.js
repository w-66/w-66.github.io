import{g as T,m as M,K as C,a as X,r as o,C as N,c as l,ag as L,aF as z,aH as x}from"./index-1b6323ef.js";import{d as G}from"./index-87e7e444.js";const H=new C("antSpinMove",{to:{opacity:1}}),_=new C("antRotate",{to:{transform:"rotate(405deg)"}}),B=t=>{const{componentCls:i,calc:e}=t;return{[`${i}`]:Object.assign(Object.assign({},X(t)),{position:"absolute",display:"none",color:t.colorPrimary,fontSize:0,textAlign:"center",verticalAlign:"middle",opacity:0,transition:`transform ${t.motionDurationSlow} ${t.motionEaseInOutCirc}`,"&-spinning":{position:"static",display:"inline-block",opacity:1},[`${i}-text`]:{fontSize:t.fontSize,paddingTop:e(e(t.dotSize).sub(t.fontSize)).div(2).add(2).equal()},"&-fullscreen":{position:"fixed",width:"100vw",height:"100vh",backgroundColor:t.colorBgMask,zIndex:t.zIndexPopupBase,inset:0,display:"flex",alignItems:"center",flexDirection:"column",justifyContent:"center",pointerEvents:"none",opacity:0,visibility:"hidden",transition:`all ${t.motionDurationMid}`,"&-show":{opacity:1,visibility:"visible"},[`${i}-dot ${i}-dot-item`]:{backgroundColor:t.colorWhite},[`${i}-text`]:{color:t.colorTextLightSolid}},"&-nested-loading":{position:"relative",[`> div > ${i}`]:{position:"absolute",top:0,insetInlineStart:0,zIndex:4,display:"block",width:"100%",height:"100%",maxHeight:t.contentHeight,[`${i}-dot`]:{position:"absolute",top:"50%",insetInlineStart:"50%",margin:e(t.dotSize).mul(-1).div(2).equal()},[`${i}-text`]:{position:"absolute",top:"50%",width:"100%",textShadow:`0 1px 2px ${t.colorBgContainer}`},[`&${i}-show-text ${i}-dot`]:{marginTop:e(t.dotSize).div(2).mul(-1).sub(10).equal()},"&-sm":{[`${i}-dot`]:{margin:e(t.dotSizeSM).mul(-1).div(2).equal()},[`${i}-text`]:{paddingTop:e(e(t.dotSizeSM).sub(t.fontSize)).div(2).add(2).equal()},[`&${i}-show-text ${i}-dot`]:{marginTop:e(t.dotSizeSM).div(2).mul(-1).sub(10).equal()}},"&-lg":{[`${i}-dot`]:{margin:e(t.dotSizeLG).mul(-1).div(2).equal()},[`${i}-text`]:{paddingTop:e(e(t.dotSizeLG).sub(t.fontSize)).div(2).add(2).equal()},[`&${i}-show-text ${i}-dot`]:{marginTop:e(t.dotSizeLG).div(2).mul(-1).sub(10).equal()}}},[`${i}-container`]:{position:"relative",transition:`opacity ${t.motionDurationSlow}`,"&::after":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,zIndex:10,width:"100%",height:"100%",background:t.colorBgContainer,opacity:0,transition:`all ${t.motionDurationSlow}`,content:'""',pointerEvents:"none"}},[`${i}-blur`]:{clear:"both",opacity:.5,userSelect:"none",pointerEvents:"none","&::after":{opacity:.4,pointerEvents:"auto"}}},"&-tip":{color:t.spinDotDefault},[`${i}-dot`]:{position:"relative",display:"inline-block",fontSize:t.dotSize,width:"1em",height:"1em","&-item":{position:"absolute",display:"block",width:e(t.dotSize).sub(e(t.marginXXS).div(2)).div(2).equal(),height:e(t.dotSize).sub(e(t.marginXXS).div(2)).div(2).equal(),backgroundColor:t.colorPrimary,borderRadius:"100%",transform:"scale(0.75)",transformOrigin:"50% 50%",opacity:.3,animationName:H,animationDuration:"1s",animationIterationCount:"infinite",animationTimingFunction:"linear",animationDirection:"alternate","&:nth-child(1)":{top:0,insetInlineStart:0,animationDelay:"0s"},"&:nth-child(2)":{top:0,insetInlineEnd:0,animationDelay:"0.4s"},"&:nth-child(3)":{insetInlineEnd:0,bottom:0,animationDelay:"0.8s"},"&:nth-child(4)":{bottom:0,insetInlineStart:0,animationDelay:"1.2s"}},"&-spin":{transform:"rotate(45deg)",animationName:_,animationDuration:"1.2s",animationIterationCount:"infinite",animationTimingFunction:"linear"}},[`&-sm ${i}-dot`]:{fontSize:t.dotSizeSM,i:{width:e(e(t.dotSizeSM).sub(e(t.marginXXS).div(2))).div(2).equal(),height:e(e(t.dotSizeSM).sub(e(t.marginXXS).div(2))).div(2).equal()}},[`&-lg ${i}-dot`]:{fontSize:t.dotSizeLG,i:{width:e(e(t.dotSizeLG).sub(t.marginXXS)).div(2).equal(),height:e(e(t.dotSizeLG).sub(t.marginXXS)).div(2).equal()}},[`&${i}-show-text ${i}-text`]:{display:"block"}})}},F=t=>{const{controlHeightLG:i,controlHeight:e}=t;return{contentHeight:400,dotSize:i/2,dotSizeSM:i*.35,dotSizeLG:e}},R=T("Spin",t=>{const i=M(t,{spinDotDefault:t.colorTextDescription});return[B(i)]},F);var A=globalThis&&globalThis.__rest||function(t,i){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&i.indexOf(n)<0&&(e[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)i.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(e[n[a]]=t[n[a]]);return e};let u=null;function K(t,i){const{indicator:e}=i,n=`${t}-dot`;return e===null?null:z(e)?x(e,{className:l(e.props.className,n)}):z(u)?x(u,{className:l(u.props.className,n)}):o.createElement("span",{className:l(n,`${t}-dot-spin`)},o.createElement("i",{className:`${t}-dot-item`,key:1}),o.createElement("i",{className:`${t}-dot-item`,key:2}),o.createElement("i",{className:`${t}-dot-item`,key:3}),o.createElement("i",{className:`${t}-dot-item`,key:4}))}function V(t,i){return!!t&&!!i&&!isNaN(Number(i))}const W=t=>{const{spinPrefixCls:i,spinning:e=!0,delay:n=0,className:a,rootClassName:p,size:m="default",tip:g,wrapperClassName:E,style:I,children:S,hashId:f,fullscreen:r}=t,O=A(t,["spinPrefixCls","spinning","delay","className","rootClassName","size","tip","wrapperClassName","style","children","hashId","fullscreen"]),[c,b]=o.useState(()=>e&&!V(e,n));o.useEffect(()=>{if(e){const d=G(n,()=>{b(!0)});return d(),()=>{var h;(h=d==null?void 0:d.cancel)===null||h===void 0||h.call(d)}}b(!1)},[n,e]);const v=o.useMemo(()=>typeof S<"u"&&!r,[S,r]),{direction:D,spin:s}=o.useContext(N),q=l(i,s==null?void 0:s.className,{[`${i}-sm`]:m==="small",[`${i}-lg`]:m==="large",[`${i}-spinning`]:c,[`${i}-show-text`]:!!g,[`${i}-fullscreen`]:r,[`${i}-fullscreen-show`]:r&&c,[`${i}-rtl`]:D==="rtl"},a,p,f),P=l(`${i}-container`,{[`${i}-blur`]:c}),y=L(O,["indicator","prefixCls"]),j=Object.assign(Object.assign({},s==null?void 0:s.style),I),$=o.createElement("div",Object.assign({},y,{style:j,className:q,"aria-live":"polite","aria-busy":c}),K(i,t),g&&(v||r)?o.createElement("div",{className:`${i}-text`},g):null);return v?o.createElement("div",Object.assign({},y,{className:l(`${i}-nested-loading`,E,f)}),c&&o.createElement("div",{key:"loading"},$),o.createElement("div",{className:P,key:"container"},S)):$},w=t=>{const{prefixCls:i}=t,{getPrefixCls:e}=o.useContext(N),n=e("spin",i),[a,p]=R(n),m=Object.assign(Object.assign({},t),{spinPrefixCls:n,hashId:p});return a(o.createElement(W,Object.assign({},m)))};w.setDefaultIndicator=t=>{u=t};const U=w;export{U as S};

import{j as N,r as Y}from"./index-a54ce840.js";var R={},P;Object.defineProperty(R,"__esModule",{value:!0});var E=N,u=Y,i=function(){return i=Object.assign||function(e){for(var r,o=1,t=arguments.length;o<t;o++)for(var n in r=arguments[o])Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n]);return e},i.apply(this,arguments)};function q(e,r){var o,t;switch(r.type){case"TYPE":return i(i({},e),{speed:r.speed,text:(o=r.payload)===null||o===void 0?void 0:o.substring(0,e.text.length+1)});case"DELAY":return i(i({},e),{speed:r.payload});case"DELETE":return i(i({},e),{speed:r.speed,text:(t=r.payload)===null||t===void 0?void 0:t.substring(0,e.text.length-1)});case"COUNT":return i(i({},e),{count:e.count+1});default:return e}}var A=function(e){var r=e.words,o=r===void 0?["Hello World!","This is","a simple Typewriter"]:r,t=e.loop,n=t===void 0?1:t,s=e.typeSpeed,l=s===void 0?80:s,v=e.deleteSpeed,b=v===void 0?50:v,m=e.delaySpeed,h=m===void 0?1500:m,c=e.onLoopDone,T=e.onType,a=e.onDelete,g=e.onDelay,_=u.useReducer(q,{speed:l,text:"",count:0}),x=_[0],S=x.speed,p=x.text,w=x.count,y=_[1],C=u.useRef(0),f=u.useRef(!1),d=u.useRef(!1),k=u.useRef(!1),D=u.useRef(!1),O=u.useCallback(function(){var j=w%o.length,L=o[j];d.current?(y({type:"DELETE",payload:L,speed:b}),p===""&&(d.current=!1,y({type:"COUNT"}))):(y({type:"TYPE",payload:L,speed:l}),k.current=!0,p===L&&(y({type:"DELAY",payload:h}),k.current=!1,D.current=!0,setTimeout(function(){D.current=!1,d.current=!0},h),n>0&&(C.current+=1,C.current/o.length===n&&(D.current=!1,f.current=!0)))),k.current&&T&&T(C.current),d.current&&a&&a(),D.current&&g&&g()},[w,h,b,n,l,o,p,T,a,g]);return u.useEffect(function(){var j=setTimeout(O,S);return f.current&&clearTimeout(j),function(){return clearTimeout(j)}},[O,S]),u.useEffect(function(){c&&f.current&&c()},[c]),[p,{isType:k.current,isDelay:D.current,isDelete:d.current,isDone:f.current}]},H="styles-module_blinkingCursor__yugAC",U="styles-module_blinking__9VXRT";(function(e,r){r===void 0&&(r={});var o=r.insertAt;if(e&&typeof document<"u"){var t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",o==="top"&&t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}})(".styles-module_blinkingCursor__yugAC{color:inherit;font:inherit;left:3px;line-height:inherit;opacity:1;position:relative;top:0}.styles-module_blinking__9VXRT{animation-duration:.8s;animation-iteration-count:infinite;animation-name:styles-module_blink__rqfaf}@keyframes styles-module_blink__rqfaf{0%{opacity:1}to{opacity:0}}");var B=u.memo(function(e){var r=e.cursorBlinking,o=r===void 0||r,t=e.cursorStyle,n=t===void 0?"|":t,s=e.cursorColor,l=s===void 0?"inherit":s;return E.jsx("span",i({style:{color:l},className:"".concat(H," ").concat(o?U:"")},{children:n}))});R.Cursor=B,P=R.Typewriter=function(e){var r=e.words,o=r===void 0?["Hello World!","This is","a simple Typewriter"]:r,t=e.loop,n=t===void 0?1:t,s=e.typeSpeed,l=s===void 0?80:s,v=e.deleteSpeed,b=v===void 0?50:v,m=e.delaySpeed,h=m===void 0?1500:m,c=e.cursor,T=c!==void 0&&c,a=e.cursorStyle,g=a===void 0?"|":a,_=e.cursorColor,x=_===void 0?"inherit":_,S=e.cursorBlinking,p=S===void 0||S,w=e.onLoopDone,y=e.onType,C=e.onDelay,f=e.onDelete,d=A({words:o,loop:n,typeSpeed:l,deleteSpeed:b,delaySpeed:h,onLoopDone:w,onType:y,onDelay:C,onDelete:f})[0];return E.jsxs(E.Fragment,{children:[E.jsx("span",{children:d}),T&&E.jsx(B,{cursorStyle:g,cursorColor:x,cursorBlinking:p})]})},R.useTypewriter=A;const W=e=>{const{cursor:r=!0,words:o=["请填入字段"],loop:t=0,cursorStyle:n="_",cursorColor:s="green"}=e;return N.jsx(P,{words:o,loop:t,cursor:r,cursorColor:s,cursorStyle:n,typeSpeed:100,deleteSpeed:70,delaySpeed:2e3})};export{W as T};
